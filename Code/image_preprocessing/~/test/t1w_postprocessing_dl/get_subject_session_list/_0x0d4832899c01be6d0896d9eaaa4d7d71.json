[
    [
        "caps_directory",
        "/network/lustre/dtlake01/aramis/projects/clinica/CLINICA_datasets/CAPS/Frontiers_DL/ADNI_CAPS_test"
    ],
    [
        "function_str",
        "def get_caps_t1(caps_directory, tsv):\n    \"\"\"\n    THis is a function to grab all the cropped files\n    :param caps_directory:\n    :param tsv:\n    :return:\n    \"\"\"\n    import pandas as pd\n    import os\n\n    preprocessed_T1 = []\n    df = pd.read_csv(tsv, sep='\\t')\n    if ('session_id' != list(df.columns.values)[1]) and (\n                'participant_id' != list(df.columns.values)[0]):\n        raise Exception('the data file is not in the correct format.')\n    img_list = list(df['participant_id'])\n    sess_list = list(df['session_id'])\n\n    for i in range(len(img_list)):\n        img_path = os.path.join(caps_directory, 'subjects', img_list[i], sess_list[i], 't1', 'preprocessing_dl', img_list[i] + '_' + sess_list[i] + '_space-MNI_res-1x1x1.nii.gz')\n        preprocessed_T1.append(img_path)\n\n    return preprocessed_T1\n"
    ],
    [
        "tsv",
        [
            "/teams/ARAMIS/PROJECTS/junhao.wen/PhD/ADNI_classification/gitlabs/AD-DL/tsv_files/test.tsv",
            "d61f3b0a45a5b9a67d86180489e37f0b"
        ]
    ],
    [
        "needed_outputs",
        [
            "preprocessed_T1"
        ]
    ]
]